<table class="w-full table-fixed mb-6 bg-white">
  <tbody>
    <tr>
      <% 7.times do |i| %>
        <% date_for_button = @roster.starts_on + i.days %>
        <% is_selected = date_for_button == @date %>
        <% is_today = date_for_button == Date.current %>

        <td class="p-1 text-center align-middle">
          <%= link_to show_by_date_rosters_path(date: date_for_button, location_id: @selected_location_id),
              class: [
                "flex flex-col items-center justify-center w-14 h-14 rounded-full mx-auto leading-none",
                (is_selected ? "bg-gray-100 text-gray-800 font-bold" : "bg-white text-gray-700"),
                (is_today ? "text-violet-600" : nil)
              ].compact.join(" ") do %>

            <!-- Tiny text for day -->
            <span class="font-bold tracking-wide mt-2" style="font-size: 8px;">
              <%= date_for_button.strftime("%a").upcase %>
            </span>

            <!-- Tiny text for date -->
            <span class="mb-2" style="font-size: 12px;">
              <%= date_for_button.strftime("%d") %>
            </span>
          <% end %>
        </td>
      <% end %>
    </tr>
  </tbody>
</table>



<table class="w-full border-separate table-fixed" style="border-spacing: 0;">
  <thead>
    <tr>
      <th class="w-1/2 text-left font-semibold p-2">EMPLOYEE</th>
      <th class="w-1/2 text-center font-semibold p-2"><%= @date.strftime("%A, %d %B") %></th>
    </tr>
  </thead>
  <tbody>
    <% User.all.each do |user| %>
      <tr class="align-top">
        <td class="p-2 border-t border-zinc-200">
          <div class="font-semibold text-zinc-800"><%= user.first_name %><br><%= user.last_name %></div>
        </td>
        <td class="p-1 border-t border-zinc-200">
          <%= render 'rosters/cell_content', roster: @roster, user: user, date: @date, selected_location_id: @selected_location_id %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
