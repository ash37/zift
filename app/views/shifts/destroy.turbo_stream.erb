<%# This Turbo Stream is rendered after a shift is successfully destroyed. %>

<%# 1. Re-render the cell where the shift was, which will now show the "Add Shift" link. %>
<%= turbo_stream.replace dom_id(@roster, "cell_content_#{@user.id}_#{@shift.start_time.to_date}") do %>
  <%= render 'rosters/cell_content', roster: @roster, user: @user, date: @shift.start_time.to_date %>
<% end %>

<%# 2. Update the total hours for the user whose shift was deleted. %>
<%= turbo_stream.replace dom_id(@user, 'hours_total') do %>
  <%= render 'rosters/user_hours', roster: @roster, user: @user %>
<% end %>

<%# 3. Update the day's total hours. %>
<%= turbo_stream.replace dom_id(@roster, "daily_hours_#{@shift.start_time.to_date.to_s}") do %>
  <%= render 'rosters/daily_hours', roster: @roster, date: @shift.start_time.to_date %>
<% end %>

<%# 4. Close the modal window by replacing its content with nothing. %>
<%= turbo_stream.replace "assign_shift_modal", "" %>
