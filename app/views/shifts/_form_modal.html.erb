<%= turbo_frame_tag "assign_shift_modal" do %>
  <div x-data="{ isOpen: true }" x-show="isOpen"
       x-transition:enter="transition duration-300 ease-out"
       x-transition:enter-start="translate-y-4 opacity-0 sm:translate-y-0 sm:scale-95"
       x-transition:enter-end="translate-y-0 opacity-100 sm:scale-100"
       x-transition:leave="transition duration-150 ease-in"
       x-transition:leave-start="translate-y-0 opacity-100 sm:scale-100"
       x-transition:leave-end="translate-y-4 opacity-0 sm:translate-y-0 sm:scale-95"
       class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40 min-h-screen"
       aria-labelledby="modal-title" role="dialog" aria-modal="true">

    <div class="bg-white p-6 rounded-lg shadow-xl w-full max-w-md sm:my-8 sm:align-middle">
      <h2 class="text-xl font-semibold mb-4 text-gray-800" id="modal-title">
        Assign Shift
      </h2>

      <%= form_with model: @shift, url: shifts_path, method: :post do |f| %>
        <%= f.hidden_field :user_id %>
        <%= f.hidden_field :roster_id %>

        <div class="mb-4">
          <%= f.label :location_id, "Location", class: "block text-sm font-medium text-gray-700 mb-1" %>
          <%= f.collection_select :location_id, Location.all, :id, :name, {}, class: "block w-full border-gray-300 rounded-md shadow-sm px-3 py-2 focus:ring-blue-500 focus:border-blue-500" %>
        </div>

        <div class="mb-4">
          <%= f.label :start_time, "Start Time", class: "block text-sm font-medium text-gray-700 mb-1" %>
          <%= f.datetime_local_field :start_time, class: "block w-full border-gray-300 rounded-md shadow-sm px-3 py-2 focus:ring-blue-500 focus:border-blue-500" %>
        </div>

        <div class="mb-4">
          <%= f.label :end_time, "End Time", class: "block text-sm font-medium text-gray-700 mb-1" %>
          <%= f.datetime_local_field :end_time, class: "block w-full border-gray-300 rounded-md shadow-sm px-3 py-2 focus:ring-blue-500 focus:border-blue-500" %>
        </div>

        <div class="flex justify-end gap-3">
          <button type="button"
                  @click="isOpen = false"
                  class="px-4 py-2 text-sm font-medium text-gray-600 border border-gray-300 rounded-md hover:bg-gray-100">
            Cancel
          </button>

          <%= f.submit "Save Shift", class: "bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 text-sm font-medium rounded-md" %>
        </div>
      <% end %>
    </div>
  </div>
<% end %>
